---
import '../styles/global.css'
import Layout from "../layouts/Layout.astro"

import Header from '../components/Header.astro'
import Hero from '../components/Hero.astro'
import Tools from '../components/Tools.astro'
import Footer from '../components/Footer.astro'
import Reviews from '../components/Reviews.astro'
import CallToAction from '../components/CallToAction.astro'
import Works from '../components/Works.astro'
import VFX from '../components/VFX.astro'
import Service from '../components/Service.astro'

---


<Layout>
  <Header />

  <div class="fade-section">
    <Hero />
  </div>

  <div class="fade-section">
    <Tools />
  </div>

  <div class="fade-section">
    <Service />
  </div>

  <div class="fade-section">
    <Works />
  </div>

  <div class="fade-section">
    <Reviews />
  </div>

  <Footer />

  <script>
    if (typeof window !== 'undefined') {
      const sections = document.querySelectorAll('.fade-section');

      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add('is-visible');
              // si no quieres que se oculten al subir otra vez, descomenta:
              // observer.unobserve(entry.target);
            }
          });
        },
        {
          threshold: 0.15,
        }
      );

      sections.forEach((sec) => observer.observe(sec));
    }
  </script>
</Layout>

